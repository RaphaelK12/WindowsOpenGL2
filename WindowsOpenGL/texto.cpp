#include "pch.h"
#include "shader.h"
#include "texture.h"
#include "material.h"
#include "malha.h"
#include "texto.h"

vec2 uvpos[256]=
{
	 vec2(0.0f    ,0.0f), vec2(0.0f    ,1/16.0f), vec2(0.0f    ,2/16.0f), vec2(0.0f    ,3/16.0f), vec2(0.0f    ,4/16.0f), vec2(0.0f    ,5/16.0f), vec2(0.0f    ,6/16.0f), vec2(0.0f    ,7/16.0f), vec2(0.0f    ,8/16.0f), vec2(0.0f    ,9/16.0f), vec2(0.0f    ,10/16.0f), vec2(0.0f    ,11/16.0f), vec2(0.0f    ,12/16.0f), vec2(0.0f    ,13/16.0f), vec2(0.0f    ,14/16.0f), vec2(0.0f    ,15/16.0f),
	 vec2(1/16.0f ,0.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,2/16.0f), vec2(1/16.0f ,3/16.0f), vec2(1/16.0f ,4/16.0f), vec2(1/16.0f ,5/16.0f), vec2(1/16.0f ,6/16.0f), vec2(1/16.0f ,7/16.0f), vec2(1/16.0f ,8/16.0f), vec2(1/16.0f ,9/16.0f), vec2(1/16.0f ,10/16.0f), vec2(1/16.0f ,11/16.0f), vec2(1/16.0f ,12/16.0f), vec2(1/16.0f ,13/16.0f), vec2(1/16.0f ,14/16.0f), vec2(1/16.0f ,15/16.0f),
	 vec2(2/16.0f ,0.0f), vec2(2/16.0f ,1/16.0f), vec2(2/16.0f ,2/16.0f), vec2(2/16.0f ,3/16.0f), vec2(2/16.0f ,4/16.0f), vec2(2/16.0f ,5/16.0f), vec2(2/16.0f ,6/16.0f), vec2(2/16.0f ,7/16.0f), vec2(2/16.0f ,8/16.0f), vec2(2/16.0f ,9/16.0f), vec2(2/16.0f ,10/16.0f), vec2(2/16.0f ,11/16.0f), vec2(2/16.0f ,12/16.0f), vec2(2/16.0f ,13/16.0f), vec2(2/16.0f ,14/16.0f), vec2(2/16.0f ,15/16.0f),
	 vec2(3/16.0f ,0.0f), vec2(3/16.0f ,1/16.0f), vec2(3/16.0f ,2/16.0f), vec2(3/16.0f ,3/16.0f), vec2(3/16.0f ,4/16.0f), vec2(3/16.0f ,5/16.0f), vec2(3/16.0f ,6/16.0f), vec2(3/16.0f ,7/16.0f), vec2(3/16.0f ,8/16.0f), vec2(3/16.0f ,9/16.0f), vec2(3/16.0f ,10/16.0f), vec2(3/16.0f ,11/16.0f), vec2(3/16.0f ,12/16.0f), vec2(3/16.0f ,13/16.0f), vec2(3/16.0f ,14/16.0f), vec2(3/16.0f ,15/16.0f),
	 vec2(4/16.0f ,0.0f), vec2(4/16.0f ,1/16.0f), vec2(4/16.0f ,2/16.0f), vec2(4/16.0f ,3/16.0f), vec2(4/16.0f ,4/16.0f), vec2(4/16.0f ,5/16.0f), vec2(4/16.0f ,6/16.0f), vec2(4/16.0f ,7/16.0f), vec2(4/16.0f ,8/16.0f), vec2(4/16.0f ,9/16.0f), vec2(4/16.0f ,10/16.0f), vec2(4/16.0f ,11/16.0f), vec2(4/16.0f ,12/16.0f), vec2(4/16.0f ,13/16.0f), vec2(4/16.0f ,14/16.0f), vec2(4/16.0f ,15/16.0f),
	 vec2(5/16.0f ,0.0f), vec2(5/16.0f ,1/16.0f), vec2(5/16.0f ,2/16.0f), vec2(5/16.0f ,3/16.0f), vec2(5/16.0f ,4/16.0f), vec2(5/16.0f ,5/16.0f), vec2(5/16.0f ,6/16.0f), vec2(5/16.0f ,7/16.0f), vec2(5/16.0f ,8/16.0f), vec2(5/16.0f ,9/16.0f), vec2(5/16.0f ,10/16.0f), vec2(5/16.0f ,11/16.0f), vec2(5/16.0f ,12/16.0f), vec2(5/16.0f ,13/16.0f), vec2(5/16.0f ,14/16.0f), vec2(5/16.0f ,15/16.0f),
	 vec2(6/16.0f ,0.0f), vec2(6/16.0f ,1/16.0f), vec2(6/16.0f ,2/16.0f), vec2(6/16.0f ,3/16.0f), vec2(6/16.0f ,4/16.0f), vec2(6/16.0f ,5/16.0f), vec2(6/16.0f ,6/16.0f), vec2(6/16.0f ,7/16.0f), vec2(6/16.0f ,8/16.0f), vec2(6/16.0f ,9/16.0f), vec2(6/16.0f ,10/16.0f), vec2(6/16.0f ,11/16.0f), vec2(6/16.0f ,12/16.0f), vec2(6/16.0f ,13/16.0f), vec2(6/16.0f ,14/16.0f), vec2(6/16.0f ,15/16.0f),
	 vec2(7/16.0f ,0.0f), vec2(7/16.0f ,1/16.0f), vec2(7/16.0f ,2/16.0f), vec2(7/16.0f ,3/16.0f), vec2(7/16.0f ,4/16.0f), vec2(7/16.0f ,5/16.0f), vec2(7/16.0f ,6/16.0f), vec2(7/16.0f ,7/16.0f), vec2(7/16.0f ,8/16.0f), vec2(7/16.0f ,9/16.0f), vec2(7/16.0f ,10/16.0f), vec2(7/16.0f ,11/16.0f), vec2(7/16.0f ,12/16.0f), vec2(7/16.0f ,13/16.0f), vec2(7/16.0f ,14/16.0f), vec2(7/16.0f ,15/16.0f),
	 vec2(8/16.0f ,0.0f), vec2(8/16.0f ,1/16.0f), vec2(8/16.0f ,2/16.0f), vec2(8/16.0f ,3/16.0f), vec2(8/16.0f ,4/16.0f), vec2(8/16.0f ,5/16.0f), vec2(8/16.0f ,6/16.0f), vec2(8/16.0f ,7/16.0f), vec2(8/16.0f ,8/16.0f), vec2(8/16.0f ,9/16.0f), vec2(8/16.0f ,10/16.0f), vec2(8/16.0f ,11/16.0f), vec2(8/16.0f ,12/16.0f), vec2(8/16.0f ,13/16.0f), vec2(8/16.0f ,14/16.0f), vec2(8/16.0f ,15/16.0f),
	 vec2(9/16.0f ,0.0f), vec2(9/16.0f ,1/16.0f), vec2(9/16.0f ,2/16.0f), vec2(9/16.0f ,3/16.0f), vec2(9/16.0f ,4/16.0f), vec2(9/16.0f ,5/16.0f), vec2(9/16.0f ,6/16.0f), vec2(9/16.0f ,7/16.0f), vec2(9/16.0f ,8/16.0f), vec2(9/16.0f ,9/16.0f), vec2(9/16.0f ,10/16.0f), vec2(9/16.0f ,11/16.0f), vec2(9/16.0f ,12/16.0f), vec2(9/16.0f ,13/16.0f), vec2(9/16.0f ,14/16.0f), vec2(9/16.0f ,15/16.0f),
	 vec2(10/16.0f,0.0f), vec2(10/16.0f,1/16.0f), vec2(10/16.0f,2/16.0f), vec2(10/16.0f,3/16.0f), vec2(10/16.0f,4/16.0f), vec2(10/16.0f,5/16.0f), vec2(10/16.0f,6/16.0f), vec2(10/16.0f,7/16.0f), vec2(10/16.0f,8/16.0f), vec2(10/16.0f,9/16.0f), vec2(10/16.0f,10/16.0f), vec2(10/16.0f,11/16.0f), vec2(10/16.0f,12/16.0f), vec2(10/16.0f,13/16.0f), vec2(10/16.0f,14/16.0f), vec2(10/16.0f,15/16.0f),
	 vec2(11/16.0f,0.0f), vec2(11/16.0f,1/16.0f), vec2(11/16.0f,2/16.0f), vec2(11/16.0f,3/16.0f), vec2(11/16.0f,4/16.0f), vec2(11/16.0f,5/16.0f), vec2(11/16.0f,6/16.0f), vec2(11/16.0f,7/16.0f), vec2(11/16.0f,8/16.0f), vec2(11/16.0f,9/16.0f), vec2(11/16.0f,10/16.0f), vec2(11/16.0f,11/16.0f), vec2(11/16.0f,12/16.0f), vec2(11/16.0f,13/16.0f), vec2(11/16.0f,14/16.0f), vec2(11/16.0f,15/16.0f),
	 vec2(12/16.0f,0.0f), vec2(12/16.0f,1/16.0f), vec2(12/16.0f,2/16.0f), vec2(12/16.0f,3/16.0f), vec2(12/16.0f,4/16.0f), vec2(12/16.0f,5/16.0f), vec2(12/16.0f,6/16.0f), vec2(12/16.0f,7/16.0f), vec2(12/16.0f,8/16.0f), vec2(12/16.0f,9/16.0f), vec2(12/16.0f,10/16.0f), vec2(12/16.0f,11/16.0f), vec2(12/16.0f,12/16.0f), vec2(12/16.0f,13/16.0f), vec2(12/16.0f,14/16.0f), vec2(12/16.0f,15/16.0f),
	 vec2(13/16.0f,0.0f), vec2(13/16.0f,1/16.0f), vec2(13/16.0f,2/16.0f), vec2(13/16.0f,3/16.0f), vec2(13/16.0f,4/16.0f), vec2(13/16.0f,5/16.0f), vec2(13/16.0f,6/16.0f), vec2(13/16.0f,7/16.0f), vec2(13/16.0f,8/16.0f), vec2(13/16.0f,9/16.0f), vec2(13/16.0f,10/16.0f), vec2(13/16.0f,11/16.0f), vec2(13/16.0f,12/16.0f), vec2(13/16.0f,13/16.0f), vec2(13/16.0f,14/16.0f), vec2(13/16.0f,15/16.0f),
	 vec2(14/16.0f,0.0f), vec2(14/16.0f,1/16.0f), vec2(14/16.0f,2/16.0f), vec2(14/16.0f,3/16.0f), vec2(14/16.0f,4/16.0f), vec2(14/16.0f,5/16.0f), vec2(14/16.0f,6/16.0f), vec2(14/16.0f,7/16.0f), vec2(14/16.0f,8/16.0f), vec2(14/16.0f,9/16.0f), vec2(14/16.0f,10/16.0f), vec2(14/16.0f,11/16.0f), vec2(14/16.0f,12/16.0f), vec2(14/16.0f,13/16.0f), vec2(14/16.0f,14/16.0f), vec2(14/16.0f,15/16.0f),
	 vec2(15/16.0f,0.0f), vec2(15/16.0f,1/16.0f), vec2(15/16.0f,2/16.0f), vec2(15/16.0f,3/16.0f), vec2(15/16.0f,4/16.0f), vec2(15/16.0f,5/16.0f), vec2(15/16.0f,6/16.0f), vec2(15/16.0f,7/16.0f), vec2(15/16.0f,8/16.0f), vec2(15/16.0f,9/16.0f), vec2(15/16.0f,10/16.0f), vec2(15/16.0f,11/16.0f), vec2(15/16.0f,12/16.0f), vec2(15/16.0f,13/16.0f), vec2(15/16.0f,14/16.0f), vec2(15/16.0f,15/16.0f),

};

// table of sizes of characteres on texture
vec2 uvsize[256]={
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),
	 vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f), vec2(1/16.0f ,1/16.0f),

};

// table of positions of characteres on 3d
vec2 pos3d[256]={
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),
	 vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f), vec2(1/160.0f ,1/160.0f),

};

texto::texto(void) : len(0), color(1), obj(0), nIndex(0)
{

}

texto::texto(const char *txt) : len(0), color(1), obj(0), nIndex(0)
{
	std::string tx = txt;
	make(tx);
}

texto::texto(std::string txt) : len(0), color(1), obj(0), nIndex(0)
{
	make(txt);

}

texto::~texto(void){

}

void texto::make(std::string txt)
{
	for (uint i = 0; i < 256; i++) {
		uvsize[i].x += (1.f / (1+(rand()%20)))/56.f;
		uvsize[i].y += (1.f / (1+(rand()%20)))/56.f;
		 uvpos[i].x += (1.f / (1+(rand()%20)))/56.f;
		 uvpos[i].y += (1.f / (1+(rand()%20)))/56.f;
	}
	text = txt;
	len = txt.length();

	//char c[] = "\n"  " " "	";
	
	v.reserve(len * 4);
	uv.reserve(len * 4);
	f.reserve(len);

	uint i=0;		// contador, caractere atual
	uint p=0;		// contador, caractere atual
	float line = 1.f / 10.0f;	// altura padrão da linha
	float leter = 1.f / 16.0f;	// largura possível da letra
	float space = 1.f / 160.0f;	// espaçamento entre letras

	float x = 0.f,	// posição atual do caractere
		  y = 0.f;	// posição atual da linha
	vec2 uvs(0,0);	// tamanho atual do caractere
	vec2 uvp(0,0);	// tamanho atual do caractere
	float nx = 0.f,	// proxima posição do caractere
		  ny = 0.f;	// proxima posição da linha

	for(i = 0; i < len; i++) {
		uint t = text[i];
		uvs = uvsize[i];
		uvp = uvpos[i];
		if(t==0x9)
			nx = x + 4.f * leter;
		else
			nx = x + uvs.x;

		if (nx >= 2.f) {
			y += line;
			x = 0;
			if(t==0x9)
				nx = x + 4.f * leter;
			else
				nx = x + uvs.x;
		}
		switch (t)
		{
		case 0x9:	// tab
			x += 4.f * leter;
			break;
		case 0xa:	// \n
		case 0xd:	// \r
			y += line;
			x = 0;
			break;
		case 0x20:	// space
			x += leter;
			break;
		default:
			float szs = 1.f / 16.f;
			//v.push_back(vec3(x,			y  + uvs.y,	0));
			//v.push_back(vec3(x,			y ,			0));
			//v.push_back(vec3(x + uvs.x, y ,			0));
			//v.push_back(vec3(x + uvs.x, y  + uvs.y,	0));
			v.push_back(vec3(x,			y + fmodf(uvp.y, szs) + uvs.y,	0));
			v.push_back(vec3(x,			y + fmodf(uvp.y, szs),			0));
			v.push_back(vec3(x + uvs.x, y + fmodf(uvp.y, szs),			0));
			v.push_back(vec3(x + uvs.x, y + fmodf(uvp.y, szs) + uvs.y,	0));

			uv.push_back(vec2(uvp.x, uvp.y+ uvs.y));
			uv.push_back(vec2(uvp.x, uvp.y));
			uv.push_back(vec2(uvp.x+ uvs.x, uvp.y));
			uv.push_back(vec2(uvp.x+ uvs.x, uvp.y+ uvs.y));

			f.push_back(usvec4(p , p + 1, p + 2, p + 3));
			x += uvs.x + space;
			p += 4;
			nIndex++;
			break;
		}
	}

}

void texto::draw(/*vec4& color, vec2& size, vec3& pos, vec3& rot*/) {
	glBegin(GL_QUADS);
	for (uint i = 0; i < nIndex; i++) {
		glVertex3fv  (& v[f[i].x].x);
		glTexCoord2fv(&uv[f[i].x].x);

		glVertex3fv  (& v[f[i].y].x);
		glTexCoord2fv(&uv[f[i].y].x);

		glVertex3fv  (& v[f[i].z].x);
		glTexCoord2fv(&uv[f[i].z].x);

		glVertex3fv  (& v[f[i].w].x);
		glTexCoord2fv(&uv[f[i].w].x);

	}
	glEnd();


}







